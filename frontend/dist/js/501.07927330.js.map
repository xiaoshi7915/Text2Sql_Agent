{"version":3,"file":"js/501.07927330.js","mappings":"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","sources":["webpack://wenshu-mcp-frontend/./src/views/layout/Layout.vue","webpack://wenshu-mcp-frontend/./src/views/layout/Layout.vue?e00e"],"sourcesContent":["<template>\n  <div class=\"app-wrapper\">\n    <!-- 侧边栏 -->\n    <div class=\"sidebar-container\">\n      <div class=\"logo-container\">\n        <router-link to=\"/\">\n          <h1 class=\"logo-title\">问数智能体</h1>\n        </router-link>\n      </div>\n      \n      <!-- 菜单 -->\n      <el-menu\n        :default-active=\"activeMenu\"\n        class=\"sidebar-menu\"\n        background-color=\"#304156\"\n        text-color=\"#fff\"\n        active-text-color=\"#409EFF\"\n        router\n      >\n        <el-menu-item index=\"/dashboard\">\n          <el-icon><icon-house /></el-icon>\n          <template #title>首页</template>\n        </el-menu-item>\n        \n        <el-sub-menu index=\"/datasource\">\n          <template #title>\n            <el-icon><icon-data-line /></el-icon>\n            <span>数据源管理</span>\n          </template>\n          <el-menu-item index=\"/datasource/list\">\n            <el-icon><icon-list /></el-icon>\n            <span>数据源列表</span>\n          </el-menu-item>\n          <el-menu-item index=\"/datasource/create\">\n            <el-icon><icon-plus /></el-icon>\n            <span>新建数据源</span>\n          </el-menu-item>\n        </el-sub-menu>\n        \n        <el-sub-menu index=\"/model\">\n          <template #title>\n            <el-icon><icon-monitor /></el-icon>\n            <span>模型管理</span>\n          </template>\n          <el-menu-item index=\"/model/list\">\n            <el-icon><icon-list /></el-icon>\n            <span>模型列表</span>\n          </el-menu-item>\n          <el-menu-item index=\"/model/create\">\n            <el-icon><icon-plus /></el-icon>\n            <span>新建模型</span>\n          </el-menu-item>\n        </el-sub-menu>\n        \n        <el-menu-item index=\"/chat\">\n          <el-icon><icon-chat-dot-round /></el-icon>\n          <template #title>会话界面</template>\n        </el-menu-item>\n      </el-menu>\n    </div>\n    \n    <!-- 主要内容区域 -->\n    <div class=\"main-container\">\n      <!-- 头部导航 -->\n      <div class=\"navbar\">\n        <div class=\"left-area\">\n          <el-breadcrumb separator=\"/\">\n            <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\n            <el-breadcrumb-item v-if=\"meta.title\">{{ meta.title }}</el-breadcrumb-item>\n          </el-breadcrumb>\n        </div>\n        <div class=\"right-menu\">\n          <el-dropdown trigger=\"click\">\n            <div class=\"avatar-wrapper\">\n              <el-avatar :size=\"32\" icon=\"UserFilled\" />\n              <span class=\"user-name\">{{ getUserName() }}</span>\n              <el-icon><CaretBottom /></el-icon>\n            </div>\n            <template #dropdown>\n              <el-dropdown-menu>\n                <el-dropdown-item>个人信息</el-dropdown-item>\n                <el-dropdown-item divided @click=\"handleLogout\">退出登录</el-dropdown-item>\n              </el-dropdown-menu>\n            </template>\n          </el-dropdown>\n        </div>\n      </div>\n      \n      <!-- 页面内容 -->\n      <div class=\"app-main\">\n        <router-view />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { computed } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport { ElMessage } from 'element-plus'\nimport { logout } from '@/api/auth'\n\nexport default {\n  name: 'LayoutMain',\n  \n  setup() {\n    // 路由相关\n    const route = useRoute()\n    const router = useRouter()\n    \n    // 计算当前激活的菜单项\n    const activeMenu = computed(() => '/' + route.path.split('/')[1])\n    \n    // 当前路由的元数据\n    const meta = computed(() => route.meta || {})\n    \n    // 安全获取用户名\n    const getUserName = () => {\n      try {\n        if (typeof localStorage !== 'undefined') {\n          const userInfoStr = localStorage.getItem('userInfo')\n          if (userInfoStr) {\n            const userInfo = JSON.parse(userInfoStr)\n            return userInfo.username || '用户'\n          }\n        }\n        return '用户'\n      } catch (error) {\n        console.error('获取用户信息失败:', error)\n        return '用户'\n      }\n    }\n    \n    // 处理登出\n    const handleLogout = () => {\n      // 调用登出API\n      logout()\n        .then(() => {\n          // 清除本地存储的令牌和用户信息\n          try {\n            if (typeof localStorage !== 'undefined') {\n              localStorage.removeItem('token')\n              localStorage.removeItem('userInfo')\n            }\n          } catch (error) {\n            console.error('清除存储失败:', error)\n          }\n          \n          ElMessage.success('已成功登出')\n          \n          // 跳转到登录页\n          router.push('/login')\n        })\n        .catch(error => {\n          console.error('登出失败:', error)\n          \n          // 即使API失败，也清除本地存储并跳转\n          try {\n            if (typeof localStorage !== 'undefined') {\n              localStorage.removeItem('token')\n              localStorage.removeItem('userInfo')\n            }\n          } catch (error) {\n            console.error('清除存储失败:', error)\n          }\n          router.push('/login')\n        })\n    }\n    \n    return {\n      activeMenu,\n      meta,\n      handleLogout,\n      getUserName\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.app-wrapper {\n  display: flex;\n  height: 100%;\n  width: 100%;\n}\n\n.sidebar-container {\n  width: 240px;\n  height: 100%;\n  background-color: #304156;\n  color: white;\n  transition: width 0.3s;\n  overflow-y: auto;\n  \n  .logo-container {\n    height: 60px;\n    padding: 10px 0;\n    text-align: center;\n    \n    .logo-title {\n      color: white;\n      margin: 0;\n      font-size: 20px;\n      line-height: 40px;\n    }\n    \n    a {\n      text-decoration: none;\n    }\n  }\n  \n  .sidebar-menu {\n    border-right: none;\n  }\n}\n\n.main-container {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  \n  .navbar {\n    height: 50px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    border-bottom: 1px solid #eee;\n    padding: 0 15px;\n    background-color: white;\n    \n    .left-area {\n      display: flex;\n      align-items: center;\n    }\n    \n    .right-menu {\n      display: flex;\n      align-items: center;\n      \n      .avatar-wrapper {\n        display: flex;\n        align-items: center;\n        cursor: pointer;\n        \n        .user-name {\n          margin-left: 8px;\n        }\n      }\n    }\n  }\n  \n  .app-main {\n    flex: 1;\n    padding: 15px;\n    overflow-y: auto;\n    background-color: #f0f2f5;\n  }\n}\n</style> ","import { render } from \"./Layout.vue?vue&type=template&id=3ae44ea2&scoped=true\"\nimport script from \"./Layout.vue?vue&type=script&lang=js\"\nexport * from \"./Layout.vue?vue&type=script&lang=js\"\n\nimport \"./Layout.vue?vue&type=style&index=0&id=3ae44ea2&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3ae44ea2\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_createVNode","_component_router_link","to","default","_withCtx","_cache","_","_component_el_menu","$setup","activeMenu","router","_component_el_menu_item","index","title","_createTextVNode","_component_el_icon","_component_icon_house","_component_el_sub_menu","_component_icon_data_line","_component_icon_list","_component_icon_plus","_component_icon_monitor","_component_icon_chat_dot_round","_hoisted_4","_hoisted_5","_hoisted_6","_component_el_breadcrumb","separator","_component_el_breadcrumb_item","path","meta","_createBlock","key","_toDisplayString","_createCommentVNode","_hoisted_7","_component_el_dropdown","trigger","dropdown","_component_el_dropdown_menu","_component_el_dropdown_item","divided","onClick","handleLogout","_hoisted_8","_component_el_avatar","size","icon","_hoisted_9","getUserName","_component_CaretBottom","_hoisted_10","_component_router_view","name","setup","route","useRoute","useRouter","computed","split","localStorage","userInfoStr","getItem","userInfo","JSON","parse","username","error","console","logout","then","removeItem","ElMessage","success","push","catch","__exports__","render"],"sourceRoot":""}