"use strict";(self["webpackChunkwenshu_mcp_frontend"]=self["webpackChunkwenshu_mcp_frontend"]||[]).push([[553],{4553:function(e,o,l){l.r(o),l.d(o,{default:function(){return b}});var n=l(6768),r=l(5130);const a={class:"login-container"},s={class:"login-box"},u={class:"login-options"};function i(e,o,l,i,t,d){const m=(0,n.g2)("el-input"),g=(0,n.g2)("el-form-item"),c=(0,n.g2)("el-checkbox"),p=(0,n.g2)("el-button"),f=(0,n.g2)("el-form");return(0,n.uX)(),(0,n.CE)("div",a,[(0,n.Lk)("div",s,[o[6]||(o[6]=(0,n.Lk)("div",{class:"login-header"},[(0,n.Lk)("h2",null,"问数智能体"),(0,n.Lk)("p",null,"基于自然语言的智能数据库查询系统")],-1)),(0,n.bF)(f,{ref:"loginFormRef",model:i.loginForm,rules:i.loginRules,class:"login-form",onSubmit:(0,r.D$)(i.handleLogin,["prevent"])},{default:(0,n.k6)((()=>[(0,n.bF)(g,{prop:"username"},{default:(0,n.k6)((()=>[(0,n.bF)(m,{modelValue:i.loginForm.username,"onUpdate:modelValue":o[0]||(o[0]=e=>i.loginForm.username=e),placeholder:"用户名","prefix-icon":"User"},null,8,["modelValue"])])),_:1}),(0,n.bF)(g,{prop:"password"},{default:(0,n.k6)((()=>[(0,n.bF)(m,{modelValue:i.loginForm.password,"onUpdate:modelValue":o[1]||(o[1]=e=>i.loginForm.password=e),type:"password",placeholder:"密码","prefix-icon":"Lock","show-password":"",onKeyup:(0,r.jR)(i.handleLogin,["enter"])},null,8,["modelValue","onKeyup"])])),_:1}),(0,n.Lk)("div",u,[(0,n.bF)(c,{modelValue:i.loginForm.remember,"onUpdate:modelValue":o[2]||(o[2]=e=>i.loginForm.remember=e)},{default:(0,n.k6)((()=>o[3]||(o[3]=[(0,n.eW)("记住我")]))),_:1},8,["modelValue"]),o[4]||(o[4]=(0,n.Lk)("a",{href:"#",class:"forgot-password"},"忘记密码？",-1))]),(0,n.bF)(g,null,{default:(0,n.k6)((()=>[(0,n.bF)(p,{type:"primary",loading:i.loading,class:"login-button",onClick:i.handleLogin},{default:(0,n.k6)((()=>o[5]||(o[5]=[(0,n.eW)(" 登录 ")]))),_:1},8,["loading","onClick"])])),_:1})])),_:1},8,["model","rules","onSubmit"])])])}l(4114);var t=l(144),d=l(1387),m=l(1219),g=l(7268),c={name:"LoginView",setup(){const e=(0,d.rd)(),o=(0,t.KR)(null),l=(0,t.KR)(!1),n=(0,t.Kh)({username:"",password:"",remember:!1}),r={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度至少为6个字符",trigger:"blur"}]},a=()=>{o.value.validate((o=>{o&&(l.value=!0,(0,g.iD)(n).then((o=>{localStorage.setItem("token",o.token),localStorage.setItem("userInfo",JSON.stringify(o.user)),m.nk.success("登录成功"),e.push("/")})).catch((e=>{console.error("登录失败:",e)})).finally((()=>{l.value=!1})))}))};return{loginFormRef:o,loginForm:n,loginRules:r,loading:l,handleLogin:a}}},p=l(1241);const f=(0,p.A)(c,[["render",i],["__scopeId","data-v-3c2f94ba"]]);var b=f}}]);
//# sourceMappingURL=553.0f17f3f6.js.map