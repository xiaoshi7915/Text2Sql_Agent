{"version":3,"file":"js/553.0f17f3f6.js","mappings":"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","sources":["webpack://wenshu-mcp-frontend/./src/views/auth/Login.vue","webpack://wenshu-mcp-frontend/./src/views/auth/Login.vue?930c"],"sourcesContent":["<template>\n  <div class=\"login-container\">\n    <div class=\"login-box\">\n      <div class=\"login-header\">\n        <h2>问数智能体</h2>\n        <p>基于自然语言的智能数据库查询系统</p>\n      </div>\n      \n      <el-form \n        ref=\"loginFormRef\" \n        :model=\"loginForm\" \n        :rules=\"loginRules\" \n        class=\"login-form\"\n        @submit.prevent=\"handleLogin\"\n      >\n        <el-form-item prop=\"username\">\n          <el-input \n            v-model=\"loginForm.username\" \n            placeholder=\"用户名\" \n            prefix-icon=\"User\"\n          />\n        </el-form-item>\n        \n        <el-form-item prop=\"password\">\n          <el-input \n            v-model=\"loginForm.password\" \n            type=\"password\" \n            placeholder=\"密码\" \n            prefix-icon=\"Lock\"\n            show-password\n            @keyup.enter=\"handleLogin\"\n          />\n        </el-form-item>\n        \n        <div class=\"login-options\">\n          <el-checkbox v-model=\"loginForm.remember\">记住我</el-checkbox>\n          <a href=\"#\" class=\"forgot-password\">忘记密码？</a>\n        </div>\n        \n        <el-form-item>\n          <el-button \n            type=\"primary\" \n            :loading=\"loading\" \n            class=\"login-button\" \n            @click=\"handleLogin\"\n          >\n            登录\n          </el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, reactive } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { ElMessage } from 'element-plus'\nimport { login } from '@/api/auth'\n\nexport default {\n  name: 'LoginView',\n  \n  setup() {\n    const router = useRouter()\n    const loginFormRef = ref(null)\n    const loading = ref(false)\n    \n    // 登录表单数据\n    const loginForm = reactive({\n      username: '',\n      password: '',\n      remember: false\n    })\n    \n    // 表单验证规则\n    const loginRules = {\n      username: [\n        { required: true, message: '请输入用户名', trigger: 'blur' }\n      ],\n      password: [\n        { required: true, message: '请输入密码', trigger: 'blur' },\n        { min: 6, message: '密码长度至少为6个字符', trigger: 'blur' }\n      ]\n    }\n    \n    // 登录处理函数\n    const handleLogin = () => {\n      loginFormRef.value.validate(valid => {\n        if (!valid) return\n        \n        loading.value = true\n        \n        // 调用登录API\n        login(loginForm)\n          .then(res => {\n            // 存储token和用户信息\n            localStorage.setItem('token', res.token)\n            localStorage.setItem('userInfo', JSON.stringify(res.user))\n            \n            ElMessage.success('登录成功')\n            router.push('/')\n          })\n          .catch(error => {\n            console.error('登录失败:', error)\n            \n            // 为了开发测试阶段，仍然保留模拟登录\n            if (process.env.NODE_ENV === 'development') {\n              // 模拟登录，只在开发环境使用\n              localStorage.setItem('token', 'demo-token')\n              localStorage.setItem('userInfo', JSON.stringify({ username: loginForm.username, role: 'admin' }))\n              \n              ElMessage.success('开发模式：模拟登录成功')\n              router.push('/')\n            }\n          })\n          .finally(() => {\n            loading.value = false\n          })\n      })\n    }\n    \n    return {\n      loginFormRef,\n      loginForm,\n      loginRules,\n      loading,\n      handleLogin\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.login-container {\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: #f5f7fa;\n}\n\n.login-box {\n  width: 400px;\n  padding: 40px;\n  background-color: #fff;\n  border-radius: 8px;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n}\n\n.login-header {\n  text-align: center;\n  margin-bottom: 40px;\n  \n  h2 {\n    font-size: 28px;\n    color: #303133;\n    margin-bottom: 10px;\n  }\n  \n  p {\n    font-size: 16px;\n    color: #909399;\n  }\n}\n\n.login-form {\n  .el-input {\n    margin-bottom: 20px;\n  }\n}\n\n.login-options {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n  \n  .forgot-password {\n    color: #409EFF;\n    text-decoration: none;\n    \n    &:hover {\n      text-decoration: underline;\n    }\n  }\n}\n\n.login-button {\n  width: 100%;\n}\n</style> ","import { render } from \"./Login.vue?vue&type=template&id=3c2f94ba&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=3c2f94ba&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3c2f94ba\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_el_form","ref","model","$setup","loginForm","rules","loginRules","onSubmit","_withModifiers","handleLogin","default","_withCtx","_component_el_form_item","prop","_component_el_input","modelValue","username","_cache","$event","placeholder","_","password","type","onKeyup","_withKeys","_hoisted_3","_component_el_checkbox","remember","_createTextVNode","href","_component_el_button","loading","onClick","name","setup","router","useRouter","loginFormRef","reactive","required","message","trigger","min","value","validate","valid","login","then","res","localStorage","setItem","token","JSON","stringify","user","ElMessage","success","push","catch","error","console","finally","__exports__","render"],"sourceRoot":""}