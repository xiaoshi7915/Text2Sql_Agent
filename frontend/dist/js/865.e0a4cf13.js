"use strict";(self["webpackChunkwenshu_mcp_frontend"]=self["webpackChunkwenshu_mcp_frontend"]||[]).push([[865],{5865:function(e,a,t){t.r(a),t.d(a,{default:function(){return k}});var l=t(6768),n=t(4232);const s={class:"model-list-container"},o={class:"header-actions"},i={class:"filter-container"},u={class:"name-container"},r={class:"name-text"},d={class:"pagination-container"};function c(e,a,t,c,p,g){const v=(0,l.g2)("icon-plus"),m=(0,l.g2)("el-icon"),h=(0,l.g2)("el-button"),f=(0,l.g2)("icon-search"),b=(0,l.g2)("el-input"),k=(0,l.g2)("el-option"),y=(0,l.g2)("el-select"),C=(0,l.g2)("el-tag"),F=(0,l.g2)("el-table-column"),_=(0,l.g2)("icon-edit"),T=(0,l.g2)("icon-connection"),w=(0,l.g2)("icon-switch"),L=(0,l.g2)("icon-open"),z=(0,l.g2)("icon-delete"),S=(0,l.g2)("el-table"),x=(0,l.g2)("el-pagination"),R=(0,l.gN)("loading");return(0,l.uX)(),(0,l.CE)("div",s,[(0,l.Lk)("div",o,[(0,l.bF)(h,{type:"primary",onClick:c.handleCreate},{default:(0,l.k6)((()=>[(0,l.bF)(m,null,{default:(0,l.k6)((()=>[(0,l.bF)(v)])),_:1}),a[5]||(a[5]=(0,l.Lk)("span",null,"新建模型",-1))])),_:1},8,["onClick"]),(0,l.bF)(b,{modelValue:c.searchKeyword,"onUpdate:modelValue":a[0]||(a[0]=e=>c.searchKeyword=e),placeholder:"搜索模型名称",class:"search-input",clearable:"",onClear:c.handleSearch,onInput:c.handleSearch},{prefix:(0,l.k6)((()=>[(0,l.bF)(m,null,{default:(0,l.k6)((()=>[(0,l.bF)(f)])),_:1})])),_:1},8,["modelValue","onClear","onInput"])]),(0,l.Lk)("div",i,[(0,l.bF)(y,{modelValue:c.filters.type,"onUpdate:modelValue":a[1]||(a[1]=e=>c.filters.type=e),placeholder:"模型类型",clearable:"",onChange:c.handleFilter},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(c.modelTypeOptions,(e=>((0,l.uX)(),(0,l.Wv)(k,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"]),(0,l.bF)(y,{modelValue:c.filters.status,"onUpdate:modelValue":a[2]||(a[2]=e=>c.filters.status=e),placeholder:"状态",clearable:"",onChange:c.handleFilter},{default:(0,l.k6)((()=>[(0,l.bF)(k,{label:"活跃",value:"active"}),(0,l.bF)(k,{label:"离线",value:"offline"})])),_:1},8,["modelValue","onChange"])]),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(S,{data:c.filteredModels,border:"",style:{width:"100%"},"header-cell-style":{backgroundColor:"#f5f7fa"}},{default:(0,l.k6)((()=>[(0,l.bF)(F,{label:"模型名称",prop:"name","min-width":"150"},{default:(0,l.k6)((({row:e})=>[(0,l.Lk)("div",u,[(0,l.bF)(C,{size:"small",type:c.getModelTypeTag(e.type)},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e.type),1)])),_:2},1032,["type"]),(0,l.Lk)("span",r,(0,n.v_)(e.name),1)])])),_:1}),(0,l.bF)(F,{label:"版本",prop:"version",width:"100",align:"center"}),(0,l.bF)(F,{label:"端点",prop:"endpoint","min-width":"180"}),(0,l.bF)(F,{label:"平均响应时间",width:"120",align:"center"},{default:(0,l.k6)((({row:e})=>[(0,l.eW)((0,n.v_)(e.avgResponseTime)+" ms ",1)])),_:1}),(0,l.bF)(F,{label:"状态",width:"100",align:"center"},{default:(0,l.k6)((({row:e})=>[(0,l.bF)(C,{type:"active"===e.status?"success":"danger",size:"small"},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)("active"===e.status?"活跃":"离线"),1)])),_:2},1032,["type"])])),_:1}),(0,l.bF)(F,{label:"上次更新时间",width:"180",align:"center"},{default:(0,l.k6)((({row:e})=>[(0,l.eW)((0,n.v_)(c.formatDate(e.updatedAt)),1)])),_:1}),(0,l.bF)(F,{label:"操作",width:"260",align:"center"},{default:(0,l.k6)((({row:e})=>[(0,l.bF)(h,{size:"small",type:"primary",plain:"",onClick:a=>c.handleEdit(e)},{default:(0,l.k6)((()=>[(0,l.bF)(m,null,{default:(0,l.k6)((()=>[(0,l.bF)(_)])),_:1}),a[6]||(a[6]=(0,l.Lk)("span",null,"编辑",-1))])),_:2},1032,["onClick"]),(0,l.bF)(h,{size:"small",type:"success",plain:"",onClick:a=>c.handleTest(e)},{default:(0,l.k6)((()=>[(0,l.bF)(m,null,{default:(0,l.k6)((()=>[(0,l.bF)(T)])),_:1}),a[7]||(a[7]=(0,l.Lk)("span",null,"测试",-1))])),_:2},1032,["onClick"]),(0,l.bF)(h,{size:"small",type:"active"===e.status?"warning":"success",plain:"",onClick:a=>c.handleToggleStatus(e)},{default:(0,l.k6)((()=>["active"===e.status?((0,l.uX)(),(0,l.Wv)(m,{key:0},{default:(0,l.k6)((()=>[(0,l.bF)(w)])),_:1})):((0,l.uX)(),(0,l.Wv)(m,{key:1},{default:(0,l.k6)((()=>[(0,l.bF)(L)])),_:1})),(0,l.Lk)("span",null,(0,n.v_)("active"===e.status?"停用":"启用"),1)])),_:2},1032,["type","onClick"]),(0,l.bF)(h,{size:"small",type:"danger",plain:"",onClick:a=>c.handleDelete(e)},{default:(0,l.k6)((()=>[(0,l.bF)(m,null,{default:(0,l.k6)((()=>[(0,l.bF)(z)])),_:1}),a[8]||(a[8]=(0,l.Lk)("span",null,"删除",-1))])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])),[[R,c.loading]]),(0,l.Lk)("div",d,[(0,l.bF)(x,{"current-page":c.currentPage,"onUpdate:currentPage":a[3]||(a[3]=e=>c.currentPage=e),"page-size":c.pageSize,"onUpdate:pageSize":a[4]||(a[4]=e=>c.pageSize=e),"page-sizes":[10,20,50,100],total:c.totalCount,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:c.handleSizeChange,onCurrentChange:c.handleCurrentChange},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])])])}t(4114),t(8111),t(2489),t(116);var p=t(144),g=t(1387),v=t(1219),m=t(2933),h={name:"ModelList",setup(){const e=(0,g.rd)(),a=(0,p.KR)(!1),t=(0,p.KR)(""),n=(0,p.KR)({type:"",status:""}),s=(0,p.KR)(1),o=(0,p.KR)(10),i=(0,p.KR)(0),u=(0,p.KR)([{id:1,name:"DeepSeek-SQL-7B",type:"LLM",version:"1.0.0",endpoint:"https://api.deepseek.com/v1/sql",avgResponseTime:235,status:"active",parameters:{temperature:.7,maxTokens:2048,topP:.95},createdAt:"2023-11-01T08:30:00Z",updatedAt:"2023-11-06T15:45:00Z"},{id:2,name:"GitHub Copilot for SQL",type:"LLM",version:"2.1.0",endpoint:"https://api.github.com/copilot/sql",avgResponseTime:312,status:"active",parameters:{temperature:.5,maxTokens:1024,topP:.9},createdAt:"2023-10-15T10:20:00Z",updatedAt:"2023-11-05T14:30:00Z"},{id:3,name:"Local Database Extractor",type:"Extractor",version:"0.2.1",endpoint:"http://localhost:8000/extract",avgResponseTime:450,status:"offline",parameters:{batchSize:100,timeout:3e4},createdAt:"2023-11-02T14:10:00Z",updatedAt:"2023-11-04T09:15:00Z"}]),r=[{value:"LLM",label:"大语言模型"},{value:"Extractor",label:"数据抽取器"},{value:"Optimizer",label:"查询优化器"}],d=(0,l.EW)((()=>{let e=[...u.value];if(t.value){const a=t.value.toLowerCase();e=e.filter((e=>e.name.toLowerCase().includes(a)||e.endpoint.toLowerCase().includes(a)))}n.value.type&&(e=e.filter((e=>e.type===n.value.type))),n.value.status&&(e=e.filter((e=>e.status===n.value.status))),i.value=e.length;const a=(s.value-1)*o.value;return e.slice(a,a+o.value)})),c=e=>{if(!e)return"-";const a=new Date(e);return a.toLocaleString()},h=e=>{const a={LLM:"primary",Extractor:"success",Optimizer:"warning"};return a[e]||"info"},f=()=>{s.value=1},b=()=>{s.value=1},k=e=>{o.value=e,s.value=1},y=e=>{s.value=e},C=()=>{e.push("/model/create")},F=a=>{e.push(`/model/edit/${a.id}`)},_=e=>{a.value=!0,setTimeout((()=>{a.value=!1,"active"===e.status?(0,v.nk)({message:`模型 ${e.name} 连接成功，响应时间: ${e.avgResponseTime}ms`,type:"success"}):(0,v.nk)({message:`模型 ${e.name} 当前离线，无法连接`,type:"error"})}),1e3)},T=e=>{const t="active"===e.status?"offline":"active",l="active"===t?"启用":"停用";m.s.confirm(`确定要${l}模型 "${e.name}" 吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{a.value=!0,setTimeout((()=>{const n=u.value.find((a=>a.id===e.id));n&&(n.status=t),a.value=!1,(0,v.nk)({message:`模型${l}成功`,type:"success"})}),500)})).catch((()=>{}))},w=e=>{m.s.confirm(`确定要删除模型 "${e.name}" 吗？`,"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{u.value=u.value.filter((a=>a.id!==e.id)),(0,v.nk)({type:"success",message:"删除成功"})})).catch((()=>{}))},L=()=>{a.value=!0,setTimeout((()=>{a.value=!1}),500)};return(0,l.sV)((()=>{L()})),{loading:a,searchKeyword:t,filters:n,currentPage:s,pageSize:o,totalCount:i,models:u,filteredModels:d,modelTypeOptions:r,formatDate:c,getModelTypeTag:h,handleSearch:f,handleFilter:b,handleSizeChange:k,handleCurrentChange:y,handleCreate:C,handleEdit:F,handleTest:_,handleToggleStatus:T,handleDelete:w}}},f=t(1241);const b=(0,f.A)(h,[["render",c],["__scopeId","data-v-620e0204"]]);var k=b}}]);
//# sourceMappingURL=865.e0a4cf13.js.map